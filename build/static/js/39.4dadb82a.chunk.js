"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[39],{8039:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(4165),c=n(5861),s=n(9439),i=n(2791),o=n(1405),a="shopBanner_shopBanner__0rs+5",u="shopBanner_shopDescription__gyolC",d=n(3308),l=n(184),h=function(){return(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)("img",{src:d}),(0,l.jsxs)("div",{className:u,children:[(0,l.jsx)("h1",{children:"BOUTIQUE PRODUCTS"}),(0,l.jsx)("h3",{children:"Everything you want ! "})]})]})},p="product_productTitle__d-h1t",f="product_fetchFail__gXuB3",m="product_searchDetail__221rc",x="productInfo_productInfo__cNk9g",g="productInfo_productAction__OJKPc",j=n(8174),v=n(5217),_=n(7689),k=n(651),y=function(e){var t=(0,o.I0)(),n=(0,_.s0)(),s=(0,o.v9)((function(e){return e.currentUser.token})),i=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n){var c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://shy-roan-roll.glitch.me"+"/admin/product/".concat(n),{credentials:"include",method:"DELETE",headers:{Authorization:s}});case 3:return c=e.sent,e.next=6,c.json();case 6:if(i=e.sent,c.ok){e.next=10;break}throw j.Am.error("".concat(i.message)),new Error("Fetching failed !");case 10:j.Am.success("".concat(i.message)),t(k.J.change()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:x,children:[(0,l.jsx)("h5",{children:e.item._id}),(0,l.jsx)("h4",{children:e.item.name}),(0,l.jsx)("h4",{children:(0,v.lz)(e.item.price)}),(0,l.jsx)("img",{src:"https://shy-roan-roll.glitch.me/"+e.item.image[0],alt:e.item.name}),(0,l.jsx)("h4",{children:e.item.category}),(0,l.jsxs)("div",{className:g,children:[(0,l.jsx)("button",{id:"update",onClick:function(){n("/editProduct/".concat(e.item._id))},children:"Update"}),(0,l.jsx)("button",{id:"delete",onClick:function(){"y"===prompt("Are you sure you want delete this product (y/n) ?").toLowerCase()&&i(e.item._id)},children:"Delete"})]})]}),(0,l.jsx)(j.Ix,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},C=n(2550),w=n(8141),b=function(){var e=(0,i.useState)(),t=(0,s.Z)(e,2),n=t[0],a=t[1],u=(0,o.I0)(),d=(0,o.v9)((function(e){return e.currentUser.token})),x=(0,i.useRef)(),g=(0,_.s0)(),j=(0,o.v9)((function(e){return e.data.currentData})),v=(0,o.v9)((function(e){return e.product.productChange})),k=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://shy-roan-roll.glitch.me/admin/allProduct",{credentials:"include",headers:{Authorization:d}});case 3:if((t=e.sent).ok){e.next=6;break}throw Error("Loading failed !");case 6:return e.next=8,t.json();case 8:n=e.sent,u(C.t.getData(n)),a(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){u(w.O.getCategories(j))}),[j,v]);var b=(0,o.v9)((function(e){return e.categories.categories}));return(0,i.useEffect)((function(){k()}),[v]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{}),d&&(0,l.jsxs)("div",{className:m,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{placeholder:"Enter Search Category Here ! ",ref:x}),(0,l.jsx)("button",{onClick:function(){var e=x.current.value.toLowerCase().trim(),t=j.filter((function(t){return t.category===e||t.name.match(e)}));u(w.O.getCategories(t))},children:"Search"})]}),(0,l.jsx)("button",{id:"add",onClick:function(){g("/addproduct")},children:"Add New Product"})]}),n&&(0,l.jsxs)("div",{className:p,children:[(0,l.jsx)("h2",{children:"ID"}),(0,l.jsx)("h2",{children:"Name"}),(0,l.jsx)("h2",{children:"Price"}),(0,l.jsx)("h2",{children:"Image"}),(0,l.jsx)("h2",{children:"Category"}),(0,l.jsx)("h2",{children:"Edit"})]}),b.length>0?b.map((function(e){return(0,l.jsx)(y,{item:e},e._id)})):(0,l.jsx)("div",{className:f,children:(0,l.jsx)("h2",{children:"No product found "})})]})},E=function(){return(0,l.jsx)(b,{})}}}]);
//# sourceMappingURL=39.4dadb82a.chunk.js.map