{"version":3,"file":"static/js/39.9fec8ef7.chunk.js","mappings":"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","sources":["webpack://myapp/./src/components/shopPage/shopBanner.module.css?2bf9","components/shopPage/ShopBanner.js","webpack://myapp/./src/components/product/product.module.css?4bfb","webpack://myapp/./src/components/product/productInfo.module.css?cb74","components/product/ProductInfo.js","components/product/Product.js","page/ProductPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"shopBanner\":\"shopBanner_shopBanner__0rs+5\",\"shopDescription\":\"shopBanner_shopDescription__gyolC\"};","import classes from \"./shopBanner.module.css\";\r\nimport img from \"../SRCIMG/banner1.jpg\";\r\nconst ShopBanner = () => {\r\n  //gom img banner va div mo ta, them sologan de sale\r\n  return (\r\n    <div className={classes.shopBanner}>\r\n      <img src={img}></img>\r\n      <div className={classes.shopDescription}>\r\n        <h1>BOUTIQUE PRODUCTS</h1>\r\n        <h3>Everything you want ! </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShopBanner;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"productTitle\":\"product_productTitle__d-h1t\",\"fetchFail\":\"product_fetchFail__gXuB3\",\"searchWrapper\":\"product_searchWrapper__9C2V9\",\"searchDetail\":\"product_searchDetail__221rc\"};","// extracted by mini-css-extract-plugin\nexport default {\"productInfo\":\"productInfo_productInfo__cNk9g\",\"productAction\":\"productInfo_productAction__OJKPc\",\"none\":\"productInfo_none__EJCoi\"};","import { useSelector } from \"react-redux\";\r\nimport classes from \"./productInfo.module.css\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { productActions } from \"../../store/product\";\r\n\r\nconst ProductInfo = (props) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const token = useSelector((state) => state.currentUser.token);\r\n  const deleteProductHandler = async (id) => {\r\n    try {\r\n      const res = await fetch(process.env.API_URL+`/admin/product/${id}`, {\r\n        credentials: \"include\",\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      });\r\n      const result = await res.json();\r\n      if (!res.ok) {\r\n        toast.error(`${result.message}`);\r\n        throw new Error(\"Fetching failed !\");\r\n      }\r\n      toast.success(`${result.message}`);\r\n      dispatch(productActions.change());\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className={classes.productInfo}>\r\n        <h5>{props.item._id}</h5>\r\n        <h4>{props.item.name}</h4>\r\n        <h4>{props.item.price}</h4>\r\n        <img src={props.item.image[0]} alt={props.item.name}></img>\r\n        <h4>{props.item.category}</h4>\r\n        <div className={classes.productAction}>\r\n          <button\r\n            id=\"update\"\r\n            onClick={() => {\r\n              navigate(`/editProduct/${props.item._id}`);\r\n            }}\r\n          >\r\n            Update\r\n          </button>\r\n          <button\r\n            id=\"delete\"\r\n            onClick={() => {\r\n              let prom = prompt(\r\n                \"Are you sure you want delete this product (y/n) ?\"\r\n              );\r\n              if (prom.toLowerCase() === \"y\") {\r\n                deleteProductHandler(props.item._id);\r\n              }\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={2000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick={false}\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductInfo;\r\n","import { useEffect, useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ShopBanner from \"../shopPage/ShopBanner\";\r\nimport classes from \"./product.module.css\";\r\nimport ProductInfo from \"./ProductInfo\";\r\nimport { dataActions } from \"../../store/data\";\r\nimport { categoriesActions } from \"../../store/categories\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Product = () => {\r\n  const [products, setProducts] = useState();\r\n  const dispatch = useDispatch();\r\n  const token = useSelector((state) => state.currentUser.token);\r\n  const categoriesInputRef = useRef();\r\n  const navigate = useNavigate();\r\n  const data = useSelector((state) => state.data.currentData); // lay data tu store\r\n  const productChange = useSelector((state) => state.product.productChange);\r\n\r\n  const fetchProduct = async () => {\r\n    try {\r\n      const res = await fetch(process.env.API_URL+`/admin/allProduct`, {\r\n        credentials: \"include\",\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      });\r\n      if (!res.ok) {\r\n        throw Error(\"Loading failed !\");\r\n      }\r\n      const dataGetFromBE = await res.json();\r\n      dispatch(dataActions.getData(dataGetFromBE));\r\n      setProducts(dataGetFromBE);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(categoriesActions.getCategories(data));\r\n  }, [data, productChange]); //lan dau tai trang thi lay data luu vao store redux, khi data thay doi thi tai lai\r\n\r\n  const searchCategoryHandler = () => {\r\n    const enteredInputRef = categoriesInputRef.current.value.toLowerCase(); //lay gia tri tu input, khong viet hoa\r\n    let categoryArr = data.filter(\r\n      //tao mang moi lay tu mang data sao cho category trung voi category nhap tu input\r\n      (ele) => ele.name.match(enteredInputRef)\r\n    );\r\n\r\n    dispatch(categoriesActions.getCategories(categoryArr)); //goi len store luu mang category de hien thi\r\n  };\r\n\r\n  const categorySearch = useSelector((state) => state.categories.categories); // lay mang category tu store, da duoc danh gia lai\r\n\r\n  useEffect(() => {\r\n    fetchProduct();\r\n  }, [productChange]);\r\n\r\n  return (\r\n    <>\r\n      <ShopBanner />\r\n      {token && (\r\n        <div className={classes.searchDetail}>\r\n          <div>\r\n            <input\r\n              placeholder=\"Enter Search Here ! \"\r\n              ref={categoriesInputRef}\r\n            ></input>\r\n            <button onClick={searchCategoryHandler}>Search</button>\r\n          </div>\r\n          <button\r\n            id=\"add\"\r\n            onClick={() => {\r\n              navigate(\"/addproduct\");\r\n            }}\r\n          >\r\n            Add New Product\r\n          </button>\r\n        </div>\r\n      )}\r\n      {products && (\r\n        <div className={classes.productTitle}>\r\n          <h2>ID</h2>\r\n          <h2>Name</h2>\r\n          <h2>Price</h2>\r\n          <h2>Image</h2>\r\n          <h2>Category</h2>\r\n          <h2>Edit</h2>\r\n        </div>\r\n      )}\r\n      {categorySearch.length > 0 ? (\r\n        categorySearch.map((ele) => {\r\n          return <ProductInfo key={ele._id} item={ele} />;\r\n        })\r\n      ) : (\r\n        // khong tim duoc san pham\r\n        <div className={classes.fetchFail}>\r\n          <h2>No product found </h2>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import Product from \"../components/product/Product\";\r\n\r\nconst ProductPage = () => {\r\n  return <Product />;\r\n};\r\n\r\nexport default ProductPage;\r\n"],"names":["_jsxs","className","classes","children","_jsx","src","img","props","dispatch","useDispatch","navigate","useNavigate","token","useSelector","state","currentUser","deleteProductHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","res","result","wrap","_context","prev","next","fetch","process","API_URL","concat","credentials","method","headers","Authorization","sent","json","ok","toast","message","Error","productActions","t0","console","log","stop","_x","apply","arguments","_Fragment","item","_id","name","price","image","alt","category","onClick","prompt","toLowerCase","ToastContainer","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","_useState","useState","_useState2","_slicedToArray","products","setProducts","categoriesInputRef","useRef","data","currentData","productChange","product","fetchProduct","dataGetFromBE","dataActions","useEffect","categoriesActions","categorySearch","categories","ShopBanner","placeholder","ref","enteredInputRef","current","value","categoryArr","filter","ele","match","length","map","ProductInfo","Product"],"sourceRoot":""}