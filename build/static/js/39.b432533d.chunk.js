"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[39],{8039:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(4165),c=n(5861),s=n(9439),i=n(2791),o=n(1405),a="shopBanner_shopBanner__0rs+5",u="shopBanner_shopDescription__gyolC",d=n(3308),h=n(184),l=function(){return(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("img",{src:d}),(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)("h1",{children:"BOUTIQUE PRODUCTS"}),(0,h.jsx)("h3",{children:"Everything you want ! "})]})]})},p="product_productTitle__d-h1t",f="product_fetchFail__gXuB3",x="product_searchDetail__221rc",m="productInfo_productInfo__cNk9g",j="productInfo_productAction__OJKPc",g=n(8174),v=n(7689),_=n(651),k=function(e){var t=(0,o.I0)(),n=(0,v.s0)(),s=(0,o.v9)((function(e){return e.currentUser.token})),i=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(n){var c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://shy-roan-roll.glitch.me"+"/admin/product/".concat(n),{credentials:"include",method:"DELETE",headers:{Authorization:s}});case 3:return c=e.sent,e.next=6,c.json();case 6:if(i=e.sent,c.ok){e.next=10;break}throw g.Am.error("".concat(i.message)),new Error("Fetching failed !");case 10:g.Am.success("".concat(i.message)),t(_.J.change()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("h5",{children:e.item._id}),(0,h.jsx)("h4",{children:e.item.name}),(0,h.jsx)("h4",{children:e.item.price}),(0,h.jsx)("img",{src:e.item.image[0],alt:e.item.name}),(0,h.jsx)("h4",{children:e.item.category}),(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("button",{id:"update",onClick:function(){n("/editProduct/".concat(e.item._id))},children:"Update"}),(0,h.jsx)("button",{id:"delete",onClick:function(){"y"===prompt("Are you sure you want delete this product (y/n) ?").toLowerCase()&&i(e.item._id)},children:"Delete"})]})]}),(0,h.jsx)(g.Ix,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},C=n(2550),w=n(8141),y=function(){var e=(0,i.useState)(),t=(0,s.Z)(e,2),n=t[0],a=t[1],u=(0,o.I0)(),d=(0,o.v9)((function(e){return e.currentUser.token})),m=(0,i.useRef)(),j=(0,v.s0)(),g=(0,o.v9)((function(e){return e.data.currentData})),_=(0,o.v9)((function(e){return e.product.productChange})),y=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://shy-roan-roll.glitch.me/admin/allProduct",{credentials:"include",headers:{Authorization:d}});case 3:if((t=e.sent).ok){e.next=6;break}throw Error("Loading failed !");case 6:return e.next=8,t.json();case 8:n=e.sent,u(C.t.getData(n)),a(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){u(w.O.getCategories(g))}),[g,_]);var b=(0,o.v9)((function(e){return e.categories.categories}));return(0,i.useEffect)((function(){y()}),[_]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l,{}),d&&(0,h.jsxs)("div",{className:x,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{placeholder:"Enter Search Here ! ",ref:m}),(0,h.jsx)("button",{onClick:function(){var e=m.current.value.toLowerCase(),t=g.filter((function(t){return t.name.match(e)}));u(w.O.getCategories(t))},children:"Search"})]}),(0,h.jsx)("button",{id:"add",onClick:function(){j("/addproduct")},children:"Add New Product"})]}),n&&(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("h2",{children:"ID"}),(0,h.jsx)("h2",{children:"Name"}),(0,h.jsx)("h2",{children:"Price"}),(0,h.jsx)("h2",{children:"Image"}),(0,h.jsx)("h2",{children:"Category"}),(0,h.jsx)("h2",{children:"Edit"})]}),b.length>0?b.map((function(e){return(0,h.jsx)(k,{item:e},e._id)})):(0,h.jsx)("div",{className:f,children:(0,h.jsx)("h2",{children:"No product found "})})]})},b=function(){return(0,h.jsx)(y,{})}}}]);
//# sourceMappingURL=39.b432533d.chunk.js.map