"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[739],{8739:function(e,r,s){s.r(r),s.d(r,{default:function(){return x}});var t=s(4165),n=s(5861),a=s(3433),c=s(9439),i=s(1405),d="addProduct_addProductWrapper__xdrVL",l="addProduct_field__LXzjH",o=s(2791),u=s(8174),p=s(7689),h=s(184),f=function(){var e=(0,i.v9)((function(e){return e.currentUser.token})),r=(0,o.useRef)(),s=(0,o.useRef)(),f=(0,o.useRef)(),x=(0,o.useRef)(),m=(0,o.useRef)(),j=(0,o.useRef)(),g=(0,o.useState)(),v=(0,c.Z)(g,2),b=v[0],y=v[1],w=b?(0,a.Z)(b):[],k=(0,p.s0)(),N=function(){var a=(0,n.Z)((0,t.Z)().mark((function n(a){var c,i,d,l,o,p,h,j,g;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,a.preventDefault(),c=r.current.value,i=f.current.value,d=s.current.value,l=x.current.value,o=m.current.value,console.log("filelist:",b),(p=new FormData).append("name",c),p.append("price",d),p.append("category",i),p.append("long_desc",l),p.append("short_desc",o),h=0;h<w.length;h++)p.append("images",w[h]);return t.next=17,fetch("https://shy-roan-roll.glitch.me/admin/addproduct",{credentials:"include",method:"POST",headers:{Authorization:e},body:p});case 17:return j=t.sent,t.next=20,j.json();case 20:if(g=t.sent,j.ok){t.next=24;break}throw u.Am.error("".concat(g.message)),new Error("Loading failed !");case 24:u.Am.success("".concat(g.message)),setTimeout((function(){k("/product")}),2e3),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(0),console.log(t.t0);case 31:case"end":return t.stop()}}),n,null,[[0,28]])})));return function(e){return a.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("h2",{children:"Add New Product"}),(0,h.jsxs)("form",{onSubmit:N,children:[(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("label",{children:"Product Name"}),(0,h.jsx)("input",{type:"text",id:"name",ref:r})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("label",{children:"Category"}),(0,h.jsx)("input",{type:"text",id:"category",ref:f})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("label",{children:"Price"}),(0,h.jsx)("input",{type:"number",id:"price",ref:s})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("label",{children:"Short Description"}),(0,h.jsx)("textarea",{row:"4",id:"longdesc",ref:m})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("label",{children:"Long Description"}),(0,h.jsx)("textarea",{rows:"4",id:"shortdesc",ref:x})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("label",{children:"Images (4 images )"}),(0,h.jsx)("input",{type:"file",id:"images",name:"images",ref:j,multiple:!0,onChange:function(e){y(e.target.files)}})]}),(0,h.jsx)("button",{type:"submit",id:"add",children:"Add Product"})]}),(0,h.jsx)(u.Ix,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},x=function(){return(0,h.jsx)(f,{})}}}]);
//# sourceMappingURL=739.194735ef.chunk.js.map