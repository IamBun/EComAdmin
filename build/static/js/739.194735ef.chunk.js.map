{"version":3,"file":"static/js/739.194735ef.chunk.js","mappings":"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","sources":["webpack://myapp/./src/components/addProduct/addProduct.module.css?29b2","components/addProduct/AddProduct.js","page/AddProductPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"addProductWrapper\":\"addProduct_addProductWrapper__xdrVL\",\"field\":\"addProduct_field__LXzjH\"};","import { useSelector } from \"react-redux\";\r\nimport classes from \"./addProduct.module.css\";\r\nimport { useRef, useState } from \"react\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst AddProduct = () => {\r\n  const token = useSelector((state) => state.currentUser.token);\r\n  const nameInputRef = useRef();\r\n  const priceInputRef = useRef();\r\n  const categoryInputRef = useRef();\r\n  const longdescInputRef = useRef();\r\n  const shortdescInputRef = useRef();\r\n  const imagesInputRef = useRef();\r\n  const [fileList, setFileList] = useState();\r\n  const files = fileList ? [...fileList] : [];\r\n  const navigate = useNavigate();\r\n\r\n  // console.log(\"fileList\", fileList);\r\n  // console.log(\"files\", files);\r\n\r\n  const submitForm = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const enterNameInputRef = nameInputRef.current.value;\r\n      const enterCategoryInputRef = categoryInputRef.current.value;\r\n      const enterPriceInputRef = priceInputRef.current.value;\r\n      const enterLongdescInputRef = longdescInputRef.current.value;\r\n      const enterShortdescInputRef = shortdescInputRef.current.value;\r\n\r\n      // if (!fileList) {\r\n      //   throw new Error(\"No file chosen !\");\r\n      // }\r\n\r\n      console.log(\"filelist:\", fileList);\r\n\r\n      let data = new FormData();\r\n\r\n      data.append(\"name\", enterNameInputRef);\r\n      data.append(\"price\", enterPriceInputRef);\r\n      data.append(\"category\", enterCategoryInputRef);\r\n      data.append(\"long_desc\", enterLongdescInputRef);\r\n      data.append(\"short_desc\", enterShortdescInputRef);\r\n      for (let i = 0; i < files.length; i++) {\r\n        data.append(\"images\", files[i]);\r\n      }\r\n\r\n      const res = await fetch(\r\n        process.env.REACT_APP_API_URL + `/admin/addproduct`,\r\n        {\r\n          credentials: \"include\",\r\n          method: \"POST\",\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n          body: data,\r\n        }\r\n      );\r\n      const result = await res.json();\r\n      if (!res.ok) {\r\n        toast.error(`${result.message}`);\r\n        throw new Error(\"Loading failed !\");\r\n      }\r\n      // const result = await res.json();\r\n      toast.success(`${result.message}`);\r\n      setTimeout(() => {\r\n        navigate(\"/product\");\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setFileList(e.target.files);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.addProductWrapper}>\r\n      <h2>Add New Product</h2>\r\n      <form onSubmit={submitForm}>\r\n        <div className={classes.field}>\r\n          <label>Product Name</label>\r\n          <input type=\"text\" id=\"name\" ref={nameInputRef}></input>\r\n        </div>\r\n        <div className={classes.field}>\r\n          <label>Category</label>\r\n          <input type=\"text\" id=\"category\" ref={categoryInputRef}></input>\r\n        </div>\r\n        <div className={classes.field}>\r\n          <label>Price</label>\r\n          <input type=\"number\" id=\"price\" ref={priceInputRef}></input>\r\n        </div>\r\n        <div className={classes.field}>\r\n          <label>Short Description</label>\r\n          <textarea row=\"4\" id=\"longdesc\" ref={shortdescInputRef}></textarea>\r\n        </div>\r\n        <div className={classes.field}>\r\n          <label>Long Description</label>\r\n          <textarea rows=\"4\" id=\"shortdesc\" ref={longdescInputRef}></textarea>\r\n        </div>\r\n        <div className={classes.field}>\r\n          <label>Images (4 images )</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"images\"\r\n            name=\"images\"\r\n            ref={imagesInputRef}\r\n            multiple\r\n            onChange={handleFileChange}\r\n          ></input>\r\n        </div>\r\n        <button type=\"submit\" id=\"add\">\r\n          Add Product\r\n        </button>\r\n      </form>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={2000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick={false}\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import AddProduct from \"../components/addProduct/AddProduct\";\r\n\r\nconst AddProductPage = () => {\r\n  return <AddProduct />;\r\n};\r\n\r\nexport default AddProductPage;\r\n"],"names":["token","useSelector","state","currentUser","nameInputRef","useRef","priceInputRef","categoryInputRef","longdescInputRef","shortdescInputRef","imagesInputRef","_useState","useState","_useState2","_slicedToArray","fileList","setFileList","files","_toConsumableArray","navigate","useNavigate","submitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","enterNameInputRef","enterCategoryInputRef","enterPriceInputRef","enterLongdescInputRef","enterShortdescInputRef","data","i","res","result","wrap","_context","prev","next","preventDefault","current","value","console","log","FormData","append","length","fetch","process","credentials","method","headers","Authorization","body","sent","json","ok","toast","concat","message","Error","setTimeout","t0","stop","_x","apply","arguments","_jsxs","className","classes","children","_jsx","onSubmit","type","id","ref","row","rows","name","multiple","onChange","target","ToastContainer","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","AddProduct"],"sourceRoot":""}