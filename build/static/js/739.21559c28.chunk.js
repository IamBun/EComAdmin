"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[739],{8739:function(e,r,s){s.r(r),s.d(r,{default:function(){return x}});var n=s(4165),t=s(5861),a=s(3433),c=s(9439),i=s(1405),d="addProduct_addProductWrapper__xdrVL",o="addProduct_field__LXzjH",u=s(2791),l=s(8174),p=s(7689),f=s(184),h=function(){var e=(0,i.v9)((function(e){return e.currentUser.token})),r=(0,u.useRef)(),s=(0,u.useRef)(),h=(0,u.useRef)(),x=(0,u.useRef)(),m=(0,u.useRef)(),j=(0,u.useRef)(),v=(0,u.useState)(),g=(0,c.Z)(v,2),_=g[0],b=g[1],P=_?(0,a.Z)(_):[],S=(0,p.s0)(),y=function(){var a=(0,t.Z)((0,n.Z)().mark((function t(a){var c,i,d,o,u,p,f,j,v;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,a.preventDefault(),c=r.current.value,i=h.current.value,d=s.current.value,o=x.current.value,u=m.current.value,console.log("filelist:",_),(p=new FormData).append("name",c),p.append("price",d),p.append("category",i),p.append("long_desc",o),p.append("short_desc",u),f=0;f<P.length;f++)p.append("images",P[f]);return n.next=17,fetch({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL+"/admin/addproduct",{credentials:"include",method:"POST",headers:{Authorization:e},body:p});case 17:return j=n.sent,n.next=20,j.json();case 20:if(v=n.sent,j.ok){n.next=24;break}throw l.Am.error("".concat(v.message)),new Error("Loading failed !");case 24:l.Am.success("".concat(v.message)),setTimeout((function(){S("/product")}),2e3),n.next=31;break;case 28:n.prev=28,n.t0=n.catch(0),console.log(n.t0);case 31:case"end":return n.stop()}}),t,null,[[0,28]])})));return function(e){return a.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("h2",{children:"Add New Product"}),(0,f.jsxs)("form",{onSubmit:y,children:[(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("label",{children:"Product Name"}),(0,f.jsx)("input",{type:"text",id:"name",ref:r})]}),(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("label",{children:"Category"}),(0,f.jsx)("input",{type:"text",id:"category",ref:h})]}),(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("label",{children:"Price"}),(0,f.jsx)("input",{type:"number",id:"price",ref:s})]}),(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("label",{children:"Short Description"}),(0,f.jsx)("textarea",{row:"4",id:"longdesc",ref:m})]}),(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("label",{children:"Long Description"}),(0,f.jsx)("textarea",{rows:"4",id:"shortdesc",ref:x})]}),(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("label",{children:"Images (4 images )"}),(0,f.jsx)("input",{type:"file",id:"images",name:"images",ref:j,multiple:!0,onChange:function(e){b(e.target.files)}})]}),(0,f.jsx)("button",{type:"submit",id:"add",children:"Add Product"})]}),(0,f.jsx)(l.Ix,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},x=function(){return(0,f.jsx)(h,{})}}}]);
//# sourceMappingURL=739.21559c28.chunk.js.map